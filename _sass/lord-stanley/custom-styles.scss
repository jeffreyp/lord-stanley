// Placeholder to allow defining custom styles that override everything else.
// (Use '_sass/lord-stanley/custom-variables.scss' to override variable defaults.

// Default photo positioning - upper right corner for posts, pages, and previews
.post-content img:first-of-type,
.page-content img:first-of-type,
.post-list img:first-of-type {
    float: right;
    margin: 0 0 1rem 1rem;  // Standard margin
    max-width: 300px;
    height: auto;
    clear: right;
    shape-outside: margin-box;
}

// When image is in first paragraph, apply negative margin to align with content start
.post-content p:first-of-type img:first-of-type,
.page-content p:first-of-type img:first-of-type {
    margin-top: -15px;
}

// When image is in its own paragraph (not first), adjust positioning
.post-content p:nth-of-type(2) img:first-of-type {
    margin-top: -30px;  // Pull up to align with first paragraph
}

// Reset margins for image-containing paragraphs
.post-content p:has(img:first-of-type),
.page-content p:has(img:first-of-type) {
    margin-bottom: 0;
}

// Better control for text wrapping around images
// Allow first 4 paragraphs to wrap around the image, then clear
.post-content p:nth-of-type(n+5),
.page-content p:nth-of-type(n+5) {
    clear: right;
}

// Ensure post content has proper clearfix for floated images
.post-content::after,
.page-content::after,
.post-list li::after {
    content: "";
    display: table;
    clear: both;
}

// Override for specific layout classes (when user specifies different layout)
.photo-left img:first-of-type {
    float: left !important;
    margin: 0 1rem 1rem 0 !important;
}

.photo-center img:first-of-type {
    float: none !important;
    display: block !important;
    margin: 1rem auto !important;
}

.photo-full-width img:first-of-type {
    float: none !important;
    max-width: 100% !important;
    margin: 1rem 0 !important;
}

// Responsive adjustments
@media screen and (max-width: 600px) {
    .post-content img:first-of-type,
    .page-content img:first-of-type,
    .post-list img:first-of-type {
        float: none;
        display: block;
        margin: 1rem auto;
        max-width: 100%;
    }
}
